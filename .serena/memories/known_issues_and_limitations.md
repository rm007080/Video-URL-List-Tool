# 既知の問題と制限事項

## 既知の制限事項

### 1. CORS Proxy への依存 🔴
**問題**: 外部サービスが停止すると全機能停止
**影響度**: High
**詳細**:
- 依存サービス: `allorigins.win`, `corsproxy.io`
- これらのサービスが両方とも停止すると、アプリケーション全体が機能しなくなる
**対策**: Cloudflare Workers で独自プロキシ実装を推奨

### 2. YouTube RSS の制限
**問題**: 最新15件程度しか取得できない
**影響度**: Medium
**詳細**:
- YouTube RSS フィードは最新15件までしか提供しない
- ページネーション不可
- 16件目以降の動画は取得できない
- RSS の更新には数分〜数時間の遅延がある
**対策**: YouTube Data API 移行（APIキー必要）

### 3. @username 非対応
**問題**: `@handle` 形式のチャンネル指定ができない
**影響度**: Low
**詳細**:
- `@username` からチャンネルID への変換には YouTube Data API が必要
- 現在は対応していない
**対策**: YouTube Data API で解決可能
**ワークアラウンド**: 
  1. YouTube でチャンネルページを開く
  2. ページのソースを表示（Ctrl+U または右クリック→ページのソースを表示）
  3. `"channelId":"UC..."` を検索
  4. 見つかったチャンネルID（UC...）を使用

### 4. プライバシー懸念
**問題**: チャンネルIDがCORS Proxyに送信される
**影響度**: Low（個人利用なら問題なし）
**詳細**:
- 第三者サービスのため、ログにチャンネルIDが記録される可能性がある
**対策**: 独自プロキシ実装

### 5. ブラウザ互換性
**対象**: モダンブラウザのみ（IE非対応）
**必要機能**: 
- Fetch API
- DOMParser
- Clipboard API
- Optional Chaining
- AbortController
**影響度**: Low（現代的なブラウザは全て対応）

### 6. CORS Proxy の制限
**問題**: レート制限により一時的に利用できない場合がある
**影響度**: Medium
**詳細**:
- 1時間あたりの利用回数に制限がある
- サービス提供者の都合で停止する可能性がある
**対策**: 
- 時間をおいて再試行
- 入力するチャンネル数を減らす

### 7. 並列取得の制限
**問題**: 同時に3チャンネルまで
**影響度**: Low
**詳細**:
- レート制限回避のため、並列実行数を3件に制限
- 大量のチャンネルを入力すると、処理に時間がかかる
**対策**: なし（設計上の制限）

## 今後の改善提案

### 優先度: High
1. **独自CORSプロキシの実装**（Cloudflare Workers）
   - 外部依存の解消
   - プライバシー保護
   - 安定性向上

2. **エラーログの収集**（Cloudflare Analytics）
   - ユーザーがどこで躓いているか把握
   - CORS Proxy失敗率のモニタリング

### 優先度: Medium
3. **YouTube Data API 統合**（オプション機能）
   - @username 対応
   - 詳細情報取得（再生回数、いいね数など）
   - プレイリスト対応

4. **PWA化**
   - オフライン対応
   - インストール可能に

5. **UI改善**
   - ダークモード
   - 多言語対応
   - 結果のエクスポート（CSV、JSON）

### 優先度: Low
6. **TypeScript移行**
   - 型安全性
   - エディタサポート改善

7. **テストコード追加**
   - ユニットテスト（Jest）
   - E2Eテスト（Playwright）

## トラブルシューティング

### エラー: 全てのCORS Proxyが利用できません
**原因**: CORS Proxy サービスがダウンしているか、レート制限に達している
**対処法**:
- 時間をおいて再試行してください
- 入力するチャンネル数を減らしてください

### エラー: @username 形式は非対応です
**原因**: ハンドル（@username）形式はチャンネルID への変換に YouTube Data API が必要
**対処法**:
1. YouTube でチャンネルページを開く
2. ページのソースを表示（Ctrl+U または右クリック→ページのソースを表示）
3. `"channelId":"UC..."` を検索
4. 見つかったチャンネルID（UC...）を使用

### エラー: 取得失敗: Invalid XML format
**原因**: チャンネルが存在しないか、RSS フィードが無効
**対処法**:
- チャンネルID が正しいか確認してください
- ブラウザで `https://www.youtube.com/feeds/videos.xml?channel_id=UC...` に直接アクセスして確認

### タイムアウトエラー
**原因**: ネットワーク接続が遅いか、CORS Proxy が応答していない
**対処法**:
- インターネット接続を確認してください
- 時間をおいて再試行してください

### デプロイ後に404エラー
**原因**: `index.html` がルートにないか、Build output directory設定が間違っている
**対処法**:
- `index.html` がルートにあるか確認
- Build output directoryが `/` になっているか確認
